import{d as h,r as i,w as x,c as n,a as c,t as r,F as d,b as z,o as t,n as I,_ as f,e as $,f as V,g as B,h as L,i as Q,j as q,k,l as N,u as g,m as S,p as E,q as H}from"./index-b4303327.js";const R={class:"question"},T={class:"question__title"},A={class:"question__options"},F=["onClickOnce"],O={class:"option__variant"},j={class:"option__label"},D=h({__name:"Question",props:{question:null},emits:["answer"],setup(o,{emit:_}){const e=i(null);return x(e,a=>{a&&setTimeout(()=>{_("answer",a)},500)}),(a,v)=>(t(),n("div",R,[c("h2",T,r(o.question.text)+"? ",1),c("ul",A,[(t(!0),n(d,null,z(o.question.options,s=>(t(),n("li",{class:I(["question__option option",!!e.value&&e.value.id===s.id&&{"option--correct":s.isCorrect,"option--wrong":!s.isCorrect}]),key:s.id+o.question.id,onClickOnce:p=>e.value=s},[c("span",O,r(s.label),1),c("label",j,r(s.text),1)],42,F))),128))])]))}});const M=f(D,[["__scopeId","data-v-cc59b693"]]),G={class:"header"},J={class:"header__progress"},K={class:"header__bar"},P=h({__name:"Header",props:{totalQuestionsCount:null,currentQuestionId:null},setup(o){return(_,e)=>(t(),n("div",G,[c("p",J," Question "+r(o.currentQuestionId)+" / "+r(o.totalQuestionsCount),1),c("div",K,[c("div",{class:"header__bar-inner",style:$({width:100*o.currentQuestionId/o.totalQuestionsCount+"%"})},null,4)])]))}});const U=f(P,[["__scopeId","data-v-3fb616cf"]]),W={class:"quiz"},X={key:0},Y={key:1},Z={key:0},ee=h({__name:"QuizView",setup(o){const _=E(),e=i(),a=i(1),v=i(0),s=i(!1),p=i(!1),m=i(!1),y=V(()=>{var u;return((u=e.value)==null?void 0:u.questions.find(l=>l.id===a.value))||null});B(async()=>{await C()});async function C(){s.value=!0;try{e.value=await L(+_.params.id)}catch(u){console.log(u)}s.value=!1}function w(u){var l;if(u.isCorrect&&(v.value+=1),a.value===((l=e.value)==null?void 0:l.questions.length)){m.value=!0;return}a.value+=1}return(u,l)=>{const b=H("RouterLink");return t(),n("div",W,[e.value?(t(),n(d,{key:1},[m.value?(t(),n("h2",Z,[q(" Score: "+r(v.value)+" / "+r(e.value.questions.length)+" ",1),k(b,{class:"quiz__button",to:"/"},{default:N(()=>[q("Try another quiz")]),_:1})])):g(y)?(t(),n(d,{key:1},[k(U,{class:"quiz__header",totalQuestionsCount:e.value.questions.length,currentQuestionId:a.value},null,8,["totalQuestionsCount","currentQuestionId"]),(t(),S(M,{key:a.value,question:g(y),onAnswer:w},null,8,["question"]))],64)):Q("",!0)],64)):(t(),n(d,{key:0},[s.value?(t(),n("h3",X,"Loading")):p.value?(t(),n("h3",Y,"Error")):Q("",!0)],64))])}}});const se=f(ee,[["__scopeId","data-v-a11fd3a4"]]);export{se as default};
