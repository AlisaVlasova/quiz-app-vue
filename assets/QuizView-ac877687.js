import{d as f,r as i,w as b,o as t,c as n,a as c,t as r,F as d,b as I,n as $,_ as p,e as V,f as B,g as L,h as T,i as q,j as k,k as h,l as g,u as C,T as N,m as S,p as E,q as H}from"./index-2114be7f.js";const R={class:"question"},A={class:"question__title"},F={class:"question__options"},O=["onClickOnce"],j={class:"option__variant"},D={class:"option__label"},G=f({__name:"Question",props:{question:null},emits:["answer"],setup(o,{emit:_}){const e=i(null);return b(e,a=>{a&&setTimeout(()=>{_("answer",a)},500)}),(a,v)=>(t(),n("div",R,[c("h2",A,r(o.question.text)+"? ",1),c("ul",F,[(t(!0),n(d,null,I(o.question.options,s=>(t(),n("li",{class:$(["question__option option",!!e.value&&e.value.id===s.id&&{"option--correct":s.isCorrect,"option--wrong":!s.isCorrect}]),key:s.id+o.question.id,onClickOnce:m=>e.value=s},[c("span",j,r(s.label),1),c("label",D,r(s.text),1)],42,O))),128))])]))}});const M=p(G,[["__scopeId","data-v-126f1d66"]]),J={class:"header"},K={class:"header__progress"},P={class:"header__bar"},U=f({__name:"Header",props:{totalQuestionsCount:null,currentQuestionId:null},setup(o){return(_,e)=>(t(),n("div",J,[c("p",K," Question "+r(o.currentQuestionId)+" / "+r(o.totalQuestionsCount),1),c("div",P,[c("div",{class:"header__bar-inner",style:V({width:100*o.currentQuestionId/o.totalQuestionsCount+"%"})},null,4)])]))}});const W=p(U,[["__scopeId","data-v-3fb616cf"]]),X={class:"quiz"},Y={key:0},Z={key:1},ee={key:0},te=f({__name:"QuizView",setup(o){const _=S(),e=i(),a=i(1),v=i(0),s=i(!1),m=i(!1),y=i(!1),Q=B(()=>{var u;return((u=e.value)==null?void 0:u.questions.find(l=>l.id===a.value))||null});L(async()=>{await w()});async function w(){s.value=!0;try{e.value=await T(+_.params.id)}catch(u){console.log(u)}s.value=!1}function x(u){var l;if(u.isCorrect&&(v.value+=1),a.value===((l=e.value)==null?void 0:l.questions.length)){y.value=!0;return}a.value+=1}return(u,l)=>{const z=E("RouterLink");return t(),n("div",X,[e.value?(t(),n(d,{key:1},[y.value?(t(),n("h2",ee,[k(" Score: "+r(v.value)+" / "+r(e.value.questions.length)+" ",1),h(z,{class:"quiz__button",to:"/"},{default:g(()=>[k("Try another quiz")]),_:1})])):C(Q)?(t(),n(d,{key:1},[h(W,{class:"quiz__header",totalQuestionsCount:e.value.questions.length,currentQuestionId:a.value},null,8,["totalQuestionsCount","currentQuestionId"]),h(N,{name:"list"},{default:g(()=>[(t(),H(M,{key:a.value,question:C(Q),onAnswer:x},null,8,["question"]))]),_:1})],64)):q("",!0)],64)):(t(),n(d,{key:0},[s.value?(t(),n("h3",Y,"Loading")):m.value?(t(),n("h3",Z,"Error")):q("",!0)],64))])}}});const ne=p(te,[["__scopeId","data-v-211187c9"]]);export{ne as default};
